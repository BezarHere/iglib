#include "pch.h"
#include "iglib.h"
#include "internal.h"

constexpr Version CurrentVersion{ 1, 0, 0 };

const std::string BeeMovie
(

	std::string("According to all known laws\n") + "of aviation,\n" +

	"there is no way a bee\n" + "should be able to fly.\n" +

	"Its wings are too small to get\n" + "its fat little body off the ground.\n" +

	"The bee, of course, flies anyway\n" +

	"because bees don't care\n" + "what humans think is impossible.\n" +

	"Yellow, black. Yellow, black.\n" + "Yellow, black. Yellow, black.\n" +

	"Ooh, black and yellow!\n" + "Let's shake it up a little.\n" +

	"Barry! Breakfast is ready!\n" +

	"Ooming!\n" +

	"Hang on a second.\n" +

	"Hello?\n" +

	"- Barry?\n" + "- Adam?\n" +

	"- Oan you believe this is happening?\n" + "- I can't. I'll pick you up.\n" +

	"Looking sharp.\n" +

	"Use the stairs. Your father\n" + "paid good money for those.\n" +

	"Sorry. I'm excited.\n" +

	"Here's the graduate.\n" + "We're very proud of you, son.\n" +

	"A perfect report card, all B's.\n" +

	"Very proud.\n" +

	"Ma! I got a thing going here.\n" +

	"- You got lint on your fuzz.\n" + "- Ow! That's me!\n" +

	"- Wave to us! We'll be in row 118,000.\n" + "- Bye!\n" +

	"Barry, I told you,\n" + "stop flying in the house!\n" +

	"- Hey, Adam.\n" + "- Hey, Barry.\n" +

	"- Is that fuzz gel?\n" + "- A little. Special day, graduation.\n" +

	"Never thought I'd make it.\n" +

	"Three days grade school,\n" + "three days high school.\n" +

	"Those were awkward.\n" +

	"Three days college. I'm glad I took\n" + "a day and hitchhiked around the hive.\n" +

	"You did come back different.\n" +

	"- Hi, Barry.\n" + "- Artie, growing a mustache? Looks good.\n" +

	"- Hear about Frankie?\n" + "- Yeah.\n" +

	"- You going to the funeral?\n" + "- No, I'm not going.\n" +

	"Everybody knows,\n" + "sting someone, you die.\n" +

	"Don't waste it on a squirrel.\n" + "Such a hothead.\n" +

	"I guess he could have\n" + "just gotten out of the way.\n" +

	"I love this incorporating\n" + "an amusement park into our day.\n" +

	"That's why we don't need vacations.\n" +

	"Boy, quite a bit of pomp...\n" + "under the circumstances.\n" +

	"- Well, Adam, today we are men.\n" + "- We are!\n" +

	"- Bee-men.\n" + "- Amen!\n" +

	"Hallelujah!\n" +

	"Students, faculty, distinguished bees,\n" +

	"please welcome Dean Buzzwell.\n" +

	"Welcome, New Hive Oity\n" + "graduating class of...\n" +

	"...9:15.\n" +

	"That concludes our ceremonies.\n" +

	"And begins your career\n" + "at Honex Industries!\n" +

	"Will we pick ourjob today?\n" +

	"I heard it's just orientation.\n" +

	"Heads up! Here we go.\n" +

	"Keep your hands and antennas\n" + "inside the tram at all times.\n" +

	"- Wonder what it'll be like?\n" + "- A little scary.\n" +

	"Welcome to Honex,\n" + "a division of Honesco\n" +

	"and a part of the Hexagon Group.\n" +

	"This is it!\n" +

	"Wow.\n" +

	"Wow.\n" +

	"We know that you, as a bee,\n" + "have worked your whole life\n" +

	"to get to the point where you\n" + "can work for your whole life.\n" +

	"Honey begins when our valiant Pollen\n" + "Jocks bring the nectar to the hive.\n" +

	"Our top-secret formula\n" +

	"is automatically color-corrected,\n" + "scent-adjusted and bubble-contoured\n" +

	"into this soothing sweet syrup\n" +

	"with its distinctive\n" + "golden glow you know as...\n" +

	"Honey!\n" +

	"- That girl was hot.\n" + "- She's my cousin!\n" +

	"- She is?\n" + "- Yes, we're all cousins.\n" +

	"- Right. You're right.\n" + "- At Honex, we constantly strive\n" +

	"to improve every aspect\n" + "of bee existence.\n" +

	"These bees are stress-testing\n" + "a new helmet technology.\n" +

	"- What do you think he makes?\n" + "- Not enough.\n" +

	"Here we have our latest advancement,\n" + "the Krelman.\n" +

	"- What does that do?\n" + "- Oatches that little strand of honey\n" +

	"that hangs after you pour it.\n" + "Saves us millions.\n" +

	"Oan anyone work on the Krelman?\n" +

	"Of course. Most bee jobs are\n" + "small ones. But bees know\n" +

	"that every small job,\n" + "if it's done well, means a lot.\n" +

	"But choose carefully\n" +

	"because you'll stay in the job\n" + "you pick for the rest of your life.\n" +

	"The same job the rest of your life?\n" + "I didn't know that.\n" +

	"What's the difference?\n" +

	"You'll be happy to know that bees,\n" + "as a species, haven't had one day off\n" +

	"in 27 million years.\n" +

	"So you'll just work us to death?\n" +

	"We'll sure try.\n" +

	"Wow! That blew my mind!\n" +

	"\"What's the difference?\"\n" +"How can you say that?\n" +

	"One job forever?\n" + "That's an insane choice to have to make.\n" +

	"I'm relieved. Now we only have\n" + "to make one decision in life.\n" +

	"But, Adam, how could they\n" + "never have told us that?\n" +

	"Why would you question anything?\n" + "We're bees.\n" +

	"We're the most perfectly\n" + "functioning society on Earth.\n" +

	"You ever think maybe things\n" + "work a little too well here?\n" +

	"Like what? Give me one example.\n" +

	"I don't know. But you know\n" + "what I'm talking about.\n" +

	"Please clear the gate.\n" + "Royal Nectar Force on approach.\n" +

	"Wait a second. Oheck it out.\n" +

	"- Hey, those are Pollen Jocks!\n" + "- Wow.\n" +

	"I've never seen them this close.\n" +

	"They know what it's like\n" + "outside the hive.\n" +

	"Yeah, but some don't come back.\n" +

	"- Hey, Jocks!\n" + "- Hi, Jocks!\n" +

	"You guys did great!\n" +

	"You're monsters!\n" + "You're sky freaks! I love it! I love it!\n" +

	"- I wonder where they were.\n" + "- I don't know.\n" +

	"Their day's not planned.\n" +

	"Outside the hive, flying who knows\n" + "where, doing who knows what.\n" +

	"You can'tjust decide to be a Pollen\n" + "Jock. You have to be bred for that.\n" +

	"Right.\n" +

	"Look. That's more pollen\n" + "than you and I will see in a lifetime.\n" +

	"It's just a status symbol.\n" + "Bees make too much of it.\n" +

	"Perhaps. Unless you're wearing it\n" + "and the ladies see you wearing it.\n" +

	"Those ladies?\n" + "Aren't they our cousins too?\n" +

	"Distant. Distant.\n" +

	"Look at these two.\n" +

	"- Oouple of Hive Harrys.\n" + "- Let's have fun with them.\n" +

	"It must be dangerous\n" + "being a Pollen Jock.\n" +

	"Yeah. Once a bear pinned me\n" + "against a mushroom!\n" +

	"He had a paw on my throat,\n" + "and with the other, he was slapping me!\n" +

	"- Oh, my!\n" + "- I never thought I'd knock him out.\n" +

	"What were you doing during this?\n" +

	"Trying to alert the authorities.\n" +

	"I can autograph that.\n" +

	"A little gusty out there today,\n" + "wasn't it, comrades?\n" +

	"Yeah. Gusty.\n" +

	"We're hitting a sunflower patch\n" + "six miles from here tomorrow.\n" +

	"- Six miles, huh?\n" + "- Barry!\n" +

	"A puddle jump for us,\n" + "but maybe you're not up for it.\n" +

	"- Maybe I am.\n" + "- You are not!\n" +

	"We're going 0900 at J-Gate.\n" +

	"What do you think, buzzy-boy?\n" + "Are you bee enough?\n" +

	"I might be. It all depends\n" + "on what 0900 means.\n" +

	"Hey, Honex!\n" +

	"Dad, you surprised me.\n" +

	"You decide what you're interested in?\n" +

	"- Well, there's a lot of choices.\n" + "- But you only get one.\n" +

	"Do you ever get bored\n" + "doing the same job every day?\n" +

	"Son, let me tell you about stirring.\n" +

	"You grab that stick, and you just\n" + "move it around, and you stir it around.\n" +

	"You get yourself into a rhythm.\n" + "It's a beautiful thing.\n" +

	"You know, Dad,\n" + "the more I think about it,\n" +

	"maybe the honey field\n" + "just isn't right for me.\n" +

	"You were thinking of what,\n" + "making balloon animals?\n" +

	"That's a bad job\n" + "for a guy with a stinger.\n" +

	"Janet, your son's not sure\n" + "he wants to go into honey!\n" +

	"- Barry, you are so funny sometimes.\n" + "- I'm not trying to be funny.\n" +

	"You're not funny! You're going\n" + "into honey. Our son, the stirrer!\n" +

	"- You're gonna be a stirrer?\n" + "- No one's listening to me!\n" +

	"Wait till you see the sticks I have.\n" +

	"I could say anything right now.\n" + "I'm gonna get an ant tattoo!\n" +

	"Let's open some honey and celebrate!\n" +

	"Maybe I'll pierce my thorax.\n" + "Shave my antennae.\n" +

	"Shack up with a grasshopper. Get\n" + "a gold tooth and call everybody \"dawg\"!\n" +

	"I'm so proud.\n" +

	"- We're starting work today!\n" + "- Today's the day.\n" +

	"Oome on! All the good jobs\n" + "will be gone.\n" +

	"Yeah, right.\n" +

	"Pollen counting, stunt bee, pouring,\n" + "stirrer, front desk, hair removal...\n" +

	"- Is it still available?\n" + "- Hang on. Two left!\n" +

	"One of them's yours! Oongratulations!\n" + "Step to the side.\n" +

	"- What'd you get?\n" + "- Picking crud out. Stellar!\n" +

	"Wow!\n" +

	"Oouple of newbies?\n" +

	"Yes, sir! Our first day! We are ready!\n" +

	"Make your choice.\n" +

	"- You want to go first?\n" + "- No, you go.\n" +

	"Oh, my. What's available?\n" +

	"Restroom attendant's open,\n" + "not for the reason you think.\n" +

	"- Any chance of getting the Krelman?\n" + "- Sure, you're on.\n" +

	"I'm sorry, the Krelman just closed out.\n" +

	"Wax monkey's always open.\n" +

	"The Krelman opened up again.\n" +

	"What happened?\n" +

	"A bee died. Makes an opening. See?\n" + "He's dead. Another dead one.\n" +

	"Deady. Deadified. Two more dead.\n" +

	"Dead from the neck up.\n" + "Dead from the neck down. That's life!\n" +

	"Oh, this is so hard!\n" +

	"Heating, cooling,\n" + "stunt bee, pourer, stirrer,\n" +

	"humming, inspector number seven,\n" + "lint coordinator, stripe supervisor,\n" +

	"mite wrangler. Barry, what\n" + "do you think I should... Barry?\n" +

	"Barry!\n" +

	"All right, we've got the sunflower patch\n" + "in quadrant nine...\n" +

	"What happened to you?\n" + "Where are you?\n" +

	"- I'm going out.\n" + "- Out? Out where?\n" +

	"- Out there.\n" + "- Oh, no!\n" +

	"I have to, before I go\n" + "to work for the rest of my life.\n" +

	"You're gonna die! You're crazy! Hello?\n" +

	"Another call coming in.\n" +

	"If anyone's feeling brave,\n" + "there's a Korean deli on 83rd\n" +

	"that gets their roses today.\n" +

	"Hey, guys.\n" +

	"- Look at that.\n" + "- Isn't that the kid we saw yesterday?\n" +

	"Hold it, son, flight deck's restricted.\n" +

	"It's OK, Lou. We're gonna take him up.\n" +

	"Really? Feeling lucky, are you?\n" +

	"Sign here, here. Just initial that.\n" +

	"- Thank you.\n" + "- OK.\n" +

	"You got a rain advisory today,\n" +

	"and as you all know,\n" + "bees cannot fly in rain.\n" +

	"So be careful. As always,\n" + "watch your brooms,\n" +

	"hockey sticks, dogs,\n" + "birds, bears and bats.\n" +

	"Also, I got a couple of reports\n" + "of root beer being poured on us.\n" +

	"Murphy's in a home because of it,\n" + "babbling like a cicada!\n" +

	"- That's awful.\n" + "- And a reminder for you rookies,\n" +

	"bee law number one,\n" + "absolutely no talking to humans!\n" +

	"All right, launch positions!\n" +

	"Buzz, buzz, buzz, buzz! Buzz, buzz,\n" + "buzz, buzz! Buzz, buzz, buzz, buzz!\n" +

	"Black and yellow!\n" +

	"Hello!\n" +

	"You ready for this, hot shot?\n" +

	"Yeah. Yeah, bring it on.\n" +

	"Wind, check.\n" +

	"- Antennae, check.\n" + "- Nectar pack, check.\n" +

	"- Wings, check.\n" + "- Stinger, check.\n" +

	"Scared out of my shorts, check.\n" +

	"OK, ladies,\n" +

	"let's move it out!\n" +

	"Pound those petunias,\n" + "you striped stem-suckers!\n" +

	"All of you, drain those flowers!\n" +

	"Wow! I'm out!\n" +

	"I can't believe I'm out!\n" +

	"So blue.\n" +

	"I feel so fast and free!\n" +

	"Box kite!\n" +

	"Wow!\n" +

	"Flowers!\n" +

	"This is Blue Leader.\n" + "We have roses visual.\n" +

	"Bring it around 30 degrees and hold.\n" +

	"Roses!\n" +

	"30 degrees, roger.Bringing it around."
);

namespace ig
{

	Error init()
	{

		//PEEK(init_glew);



		//GLuint pid = glCreateProgram();

		//const char *vsSrc =
		//	"#version 330 core\nlayout (location = 0) in vec3 inPosition;void main() {gl_Position = vec4(inPosition, 1.0);}";

		//GLuint vertexsh = glCreateShader(GL_VERTEX_SHADER);
		//glShaderSource(vertexsh, 1, &vsSrc, nullptr);
		//glCompileShader(vertexsh);


		/*GLfloat verts[]
		{
			0.0f, 1.0f, -1.0f, 0.0f, 1.0f, 0.0f
		};

		GLfloat colors[]
		{
			1.0f, 1.0f, 1.0f, 1.0f, 1.0f, 1.0f
		};

		GLuint vbo{ 0 };
		GLuint vao{ 0 };

		glGenVertexArrays(1, &vao);
		glGenBuffers(1, &vbo);
		glBindVertexArray(vao);
		glBindBuffer(GL_ARRAY_BUFFER, vbo);
		glBufferData(GL_ARRAY_BUFFER, sizeof(GLfloat) * 6, verts, GL_STATIC_DRAW);

		glEnableVertexAttribArray(0);
		glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 2 * sizeof(GLfloat), nullptr);

		glBindBuffer(0, vbo);
		glBindVertexArray(0);

		while (!glfwWindowShouldClose(window))
		{
			glClearColor(0.0f, 0.0f, 0.7f, 1.0f);
			glClear(GL_COLOR_BUFFER_BIT);

			glBindVertexArray(vao);
			glDrawArrays(GL_TRIANGLES, 0, 3);
			glBindVertexArray(0);

			glfwSwapBuffers(window);
			glfwPollEvents();
		}*/

		return Error();
	}

	Version IGlib::version() noexcept
	{
		return CurrentVersion;
	}

	int IGlib::bee()
	{
		bool cl = false;
		size_t last = 0;
		const size_t len = BeeMovie.size();

		for (size_t i{}; i < len; i++)
		{
			if (BeeMovie[ i ] == '\n')
			{
				dye::put_colors(cl ? dye::TerminalColor{ dye::ColorCode::Yellow, dye::ColorCode::Black } : dye::TerminalColor{ dye::ColorCode::Black, dye::ColorCode::Yellow });
				std::cout << BeeMovie.substr(last, i - last) << '\n';
				cl = !cl;
				//bb.push_back(BeeMovie.substr(last, i - last));
				last = i;
			}
		}
		dye::clear_colors();
		
		//throw std::runtime_error(BeeMovie);
		return 69+420;
	}

}
